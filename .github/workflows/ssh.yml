name: macOS SSH Terminal
on:
  workflow_dispatch:
    inputs:
      session_duration:
        description: 'Session duration in minutes'
        required: false
        default: '480'

jobs:
  ssh_session:
    runs-on: macos-latest
    timeout-minutes: 500
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        
      - name: macOS System Information
        run: |
          echo "System Version:"
          sw_vers
          echo "Architecture:"
          uname -m
          
      - name: Xcode Information
        run: |
          echo "Xcode Path:"
          xcode-select -p
          echo "Xcode Version:"
          xcodebuild -version
          
      - name: iOS SDK Check
        run: |
          echo "Available iOS SDKs:"
          xcodebuild -showsdks | grep iOS
          
      - name: Keep SSH Session Alive
        run: sleep 28800
