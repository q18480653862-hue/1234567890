name: macOS-15 äº¤äº’å¼SSHç»ˆç«¯ã€æ‰‹åŠ¨è¾“å…¥å‘½ä»¤ æŽ’æŸ¥iOSé•œåƒã€‘
on:
  workflow_dispatch: # æ‰‹åŠ¨è§¦å‘ï¼Œç‚¹ä¸€ä¸‹å°±è¿è¡Œ

jobs:
  macos_ssh:
    runs-on: macos-15
    timeout-minutes: 120 # è¶…æ—¶æ—¶é—´è®¾ç½®2å°æ—¶ï¼Œè¶³å¤Ÿä½ è°ƒè¯•
    steps:
      - name: ðŸš€ å®‰è£…åå‘SSHå·¥å…· (å…è´¹æ— é™åˆ¶)
        run: |
          curl -sL https://gist.githubusercontent.com/ohmyzsh/5f0c20a61827962499999886c34196091/raw/89999999999999999999/ngrok.sh | bash -s 443
          brew install openssh > /dev/null 2>&1
          
      - name: ðŸ“Œ ç”ŸæˆSSHè¿žæŽ¥ä¿¡æ¯ (å…³é”®ï¼å¤åˆ¶ä¸‹é¢çš„ä¿¡æ¯)
        id: ssh
        run: |
          echo "âœ… ä½ çš„macOS-15è™šæ‹ŸæœºSSHè¿žæŽ¥ä¿¡æ¯ï¼ˆæœ‰æ•ˆæœŸ2å°æ—¶ï¼‰ï¼š" >> $GITHUB_STEP_SUMMARY
          echo "ssh runner@localhost -p ç«¯å£å·" >> $GITHUB_STEP_SUMMARY
          echo "ðŸ”‘ å¯†ç ï¼šrunner" >> $GITHUB_STEP_SUMMARY
          echo "====================================="
          ./ngrok tcp 22
